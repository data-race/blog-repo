---
title: Chapter 1 iOS and ML
tags:
  - ios开发
categories:
  - iOS开发
date: 2023-07-17 20:17:29
---
#ios开发 

本章主要介绍基本的概念，包括机器学习的一些基础概念以及苹果公司如何将使开发者更容易的开发智能的应用，苹果公司提供的一些工具等。

##  什么是机器学习

机器学习背后的思想在于，如果有些问题你无法使用编程的方式来形式化的加以判定，例如写一个识别图片中物体的程序或者根据文本判断感情，就需要使用机器学习的算法来完成这项工作。

## 什么是深度学习

神经网络是多层神经元构成的，它的思想是模拟人脑的工作流程，长时间以来，只有简单的神经网络可以被构建。随着计算能力提高，复杂的、多层的神经网络可以通过GPU的高效矩阵运算进行计算。一般来说，网络越深，模型越复杂，能学到的东西就越多。

人工智能和机器学习的关系：人工智能是一个宽泛的领域，使用机器模拟特定方面的人类智能。例如计算机视觉，机器人等。机器学习是人工智能中使用的一种方法。

##  在移动设备上可以用机器学习做什么

尽管在移动设备上有诸多限制，但是仍有四种主要的数据来源可以使用：

* Camera： 分析摄像头采集的图片与视频，使用摄像头实时检测物体（人脸识别），识别手写文字，捕捉动作，图像增强
* Text：文本分析，文本翻译，智能补全，聊天机器人
* Speech：语音文字输入，翻译，自动生成视频字幕
* Activity：分析用户的行为：通过运动传感器，加速传感器，GPS等

## 机器学习封装

机器学习中一个重要的概念是模型，模型可以看作是将算法和数据组合在一起。之所以叫模型，是因为它对目标问题进行建模。创建模型首先需要选择算法，然后通过使用大量的样本来训练模型。一旦得到模型后，可以使用模型来进行预测，模型从给定输入生成输出的过程叫推断(Inference)。

监督学习：最常见的机器学习是监督学习，在监督学习中，通过给定有标签的样本来训练模型，例如在人脸识别中，图片是样本，图片上的人是谁是标签。监督学习主要分为回归和分类，回归是预测连续值，例如气温，股票价格等，分类是预测离散值，或者说类别，例如图片上的动物是狗还是猫。

大部分的机器学习算法并不是直接学习规则，而是学习一组参数。这些参数表达了学到的算法，但是对于人来说并不能直观的表示为if-else。

迁移学习：如果已经有了训练好的模型，例如已经有了用于图像分类的模型，事实上它已经学到了一些特征的处理，例如图片中的边，角，点等，我们无需从头训练自己的图像分类模型，只要在预训练好的模型上添加自己的数据集，进行迁移学习即可。苹果公司提供了迁移学习的套件：CreateML和TuriCreate，前者是后者的Swift实现，后者是Python的工具包。

## 移动设备上的机器学习

移动设备的算力是有限的，许多情况下，不足以支撑机器学习。例如苹果的Siri助手，需要将用户的语音指令发送到苹果的服务器，再返回分析的结果。但是得益于加速技术，许多IOS设备支持在设备上进行推断。这样可以具有更低的时延，对用户的隐私也更安全。而且开发者不需要购买云服务。

但是在设备上直接进行训练是有诸多限制的，能做的也仅仅是在模型很小的情况下，更新一个已经训练好的模型。CoreML只支持推断而不支持在设备上训练。

## 框架 工具 APIs

机器学习的理论是复杂的，但是应用并不复杂。关键在于开发者关注的层次。

* 面向任务：如果开发者面向的是让自己的应用完成某一任务，那么苹果提供了许多Swift框架，包括Vision(视觉),Natural Launguage(自然语言), Speech(语音), SiriKit和GameKit等，这些框架提供了可以直接使用的API，开发者只需要调用就可以。
* 使用预训练的模型：CoreML是苹果提供的另一个设备上的机器学习解决方案，它不仅是一个框架，也是一种用于存储模型的文件格式。CoreML提供了6中预训练的模型，包括SqueezeNet， RestNet等。这些模型使用大量的数据集进行训练，开发者可以直接使用这些模型在自己的应用中。
* 从其他框架的模型进行创建：苹果提供了Python工具包coremltools可以让开发者从Pytorch，TF，MXNet等各种框架将模型转换为CoreML格式，并直接在应用中使用。
* 迁移学习：如果预训练等模型不够强大，那么苹果提供了CreateML和TuriCreate来让开发者对模型进行迁移训练，迁移训练等好处是不需要太多数据集。CreateML和TuriCreate的Swift实现。
* 专注算法：如果开发者专注算法，那么应该更关注其他的框架，因为CoreML更新随着IOS更新进行，因此算法部分可能不会紧跟前沿。

## 个人感想
苹果在移动设备上加入了神经网络引擎，但是其主要的目的并不是进行训练，而是进行预测。通过CoreML套件可以在应用中使用模型，通过CreateML和TuriCreate套件可以对预训练好的模型进行迁移学习，从而得到更合适的模型。此外，苹果提供了能够将其他框架下的模型转换为coreml格式的模型的方法，因此，总的来说对于开发者而言，并不需要掌握很多机器学习理论知识，只需要了解机器学习的流程就可以。